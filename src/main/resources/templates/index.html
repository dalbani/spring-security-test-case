<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" lang="en">
    <head>
        <title>My App</title>
        <meta charset="utf-8" />

        <style>
            body {
                font-family: sans-serif;
            }

            dt, dd {
                font-family: monospace;
            }
        </style>

        <meta charset="utf-8" />
    </head>
    <body>
        <h1>My App</h1>

        <div>
            <form th:action="@{/logout}" method="post">
                <input type="submit" value="Logout" />
            </form>
        </div>

        <hr>

        <h2>Claims in ID Token from OIDC authentication</h2>

        <dl>
            <div th:remove="tag" th:each="claim : ${oidcIdToken.getClaims()}">
                <dt th:text="${claim.key}"></dt>
                <dd th:text="${claim.value}"></dd>
            </div>
        </dl>

        <h3>Raw token value</h3>

        <textarea readonly th:text="${oidcIdToken.getTokenValue()}"></textarea>

        <hr>

        <h2>Claims in Access Token from OIDC authentication</h2>

        <dl>
            <div th:remove="tag"
                 th:each="claim : ${T(com.nimbusds.jose.JWSObject).parse(oidcAccessToken.getTokenValue()).getPayload().toJSONObject()}">
                <dt th:text="${claim.key}"></dt>
                <dd th:text="${claim.value}"></dd>
            </div>
        </dl>

        <h3>Raw token value</h3>

        <textarea readonly th:text="${oidcAccessToken.getTokenValue()}"></textarea>
    </body>
</html>
